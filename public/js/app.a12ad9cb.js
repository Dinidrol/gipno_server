(function(t){function e(e){for(var n,r,a=e[0],c=e[1],u=e[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var m=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"023b":function(t,e,s){},"0df9":function(t,e,s){},"173a":function(t,e,s){"use strict";var n=s("0df9"),i=s.n(n);i.a},2901:function(t,e,s){},"38d6":function(t,e,s){"use strict";var n=s("a730"),i=s.n(n);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=s("8c4f"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"test"}},[s("div",{staticClass:"game-control"},[s("div",{staticClass:"timer"},[s("p",[t._v("Текущее время:")]),s("gamer-time",{attrs:{blink:!0,displaySeconds:!0}})],1),s("div",{staticClass:"time"},[s("p",[t._v("Время игры:")]),s("game-time")],1),s("div",{staticClass:"game-button"},[s("button",{on:{click:t.startGame}},[t._v("Start Game")]),s("button",{on:{click:t.pause}},[t._v("Pause Game")]),s("button",{on:{click:t.stop}},[t._v("Stop Game")]),s("button",{attrs:{id:"show-skip-stages"},on:{click:function(e){t.showSkip=!0}}},[t._v("Skip Stage")]),t.showSkip?s("modal-skip",{attrs:{modules:t.games_room.modules},on:{close:function(e){t.showSkip=!1}}}):t._e(),s("button",{attrs:{id:"show-modal"},on:{click:function(e){t.showModal=!0}}},[t._v("Power Room")]),t.showModal?s("modal-power",{attrs:{modules:t.games_room.modules},on:{close:function(e){t.showModal=!1}}}):t._e()],1)]),s("chat"),s("pre",[t._v(t._s(t.$data))])],1)},r=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"group"}},[s("div",{staticClass:"controll"},[s("p",[t._v(t._s(t.name_stage))]),s("button",{on:{click:function(e){t.showModal=!0}}},[t._v("Изменить")]),s("modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{data_stage:t.stage},on:{close:function(e){t.showModal=!1}}})],1),s("ul",{staticClass:"tips_list"},[s("li",[s("timer")],1)])])},c=[],u=(s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"timer"}},[s("span",{staticClass:"timer_area"},[s("div",{staticClass:"timer_text"},[s("span",[t._v("Текст подсказки: "),s("span",{staticClass:"text_style"},[t._v(t._s(t.text))])]),s("span",[t._v(" Время срабатывания: "),s("span",{staticClass:"text_style"},[t._v(t._s(t._f("prettify")(t.prettyTime)))])])]),t.displayButton?s("div",{staticClass:"timer_button"},[s("button",{on:{click:t.dropOnScreen}},[t._v("Send Tips")]),s("button",{on:{click:t.startTimer}},[t._v("Start")])]):t._e()])])}),m=[],l=(s("e25e"),s("ac1f"),s("1276"),{name:"timer",props:{text:{type:String,default:"ERROR"},time:{type:String,default:"12:32"},interval:{type:Number,default:1},statustimer:{type:Boolean,default:!1},idtimer:{type:Number,default:-1},ident_group:{type:Number,default:-1}},data:function(){return{timer:null,timeTimer:this.convertTime(this.time),displayButton:!1,isConnected:!1}},methods:{dropOnScreen:function(){console.log(this.text),this.$socket.emit("TextTips",{tips:this.text})},convertTime:function(t){var e=t.split(":");return 60*e[0]+ +e[1]},startTimer:function(){this.timer=setInterval(this.onMutchTimer,1e3*this.interval)},onMutchTimer:function(){this.timeTimer=this.timeTimer-=this.interval,this.timeTimer<=0&&(clearInterval(this.timer),console.log(this.text),this.timeTimer=0,this.$root.$emit("statusTimer",{id:this.idtimer,groop:this.ident_group,status:"true"}))},skipTimer:function(){clearInterval(this.timer),this.timer=null}},mounted:function(){var t=this;this.$root.$on("startTimer",(function(e){e.current_timer==t.idtimer&&e.current_stage==t.ident_group&&t.startTimer()})),this.$root.$on("pauseGame",(function(e){0==e.game_status&&(clearInterval(t.timer),t.timer=null)})),this.$root.$on("stopTimer",(function(e){t.idtimer==e.current_timer&&t.ident_group==e.current_groop?t.skipTimer():t.ident_group==e.current_groop&&t.skipTimer()}))},sockets:{connect:function(){this.isConnected=!0,this.$socket.emit("TextTips",{tips:"gdfg"}),console.log("Socket connected to Tips")},disconnected:function(){this.isConnected=!1,console.log("Socket disconnected from Tips")}},computed:{prettyTime:function(){var t=this.timeTimer/60,e=parseInt(t),s=Math.round(60*(t-e));return e+":"+s}},filters:{prettify:function(t){var e=t.split(":"),s=e[0],n=e[1];return s<10&&(s="0"+s),n<10&&(n="0"+n),s+":"+n}}}),d=l,p=(s("69f8"),s("2877")),_=Object(p["a"])(d,u,m,!1,null,"eec3d328",null),f=_.exports,v={name:"group",components:{Timer:f},props:{name_stage:{type:String,default:"ERROR"},order_stage:{type:Number,default:-1},current_stage:{type:Number,default:-1},stage_game:{type:Boolean,default:!1},stage:{type:null}},data:function(){return{count_timer:1,showModal:!1}},methods:{startNextTimer:function(){this.$root.$emit("startTimer",{current_timer:this.count_timer,current_stage:this.order_stage})}},mounted:function(){var t=this;this.$root.$on("startGame",(function(e){e.groop_stage==t.order_stage&&1==e.game_status&&t.$root.$emit("startTimer",{current_timer:t.count_timer,current_stage:t.order_stage})})),this.$root.$on("statusTimer",(function(e){e.groop==t.order_stage&&t.count_timer==e.id&&(t.count_timer+=1,t.startNextTimer(),5==t.count_timer&&t.$root.$emit("WorkGroup",{group_stage:t.order_stage}))})),this.$root.$on("skipGroup",(function(e){t.order_stage==e.skip_group&&t.$root.$emit("stopTimer",{current_groop:t.current_stage})}))}},h=v,g=(s("ccb8"),Object(p["a"])(h,a,c,!1,null,"2f29cf95",null)),b=(g.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"power"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[t._m(0),s("div",{staticClass:"modal-body"},[s("button",{on:{click:t.PowerOn}},[t._v("Включить")]),s("button",{on:{click:t.PowerOff}},[t._v("Выключить")]),s("h2",[t._v("Состояние модулей")]),s("ul",{staticClass:"list-modules"},t._l(t.modules,(function(e){return s("li",{key:e.name_modules},[s("div",{staticClass:"modules"},[s("p",[t._v(t._s(e.name)+" ")]),s("button",{on:{click:function(s){return t.HardReset(e.id)}}},[t._v("Hard Reset")])])])})),0)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("Закрыть")])])])])])])}),k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("p",[t._v("Питание и сосотояние комнаты")])])}],y={name:"power",props:{modules:{type:Object}},methods:{PowerOn:function(){this.$socket.emit("PowerRoom",{power:!0})},PowerOff:function(){this.$socket.emit("PowerRoom",{power:!1})},HardReset:function(t){this.$socket.emit("HardReset",{module:t})},mounted:function(){this.$socket.on("conect-node",(function(t){console.log(t)})),this.$socket.emit("model-connect",{data:!0})}}},w=y,$=(s("59e3"),Object(p["a"])(w,b,k,!1,null,"402db3a0",null)),T=$.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"skip"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[t._m(0),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"room-1"},[s("h2",[t._v("First Room")]),s("p",[t._v("Passed Ident #1 "),s("button",{on:{click:function(e){return t.HardReset("ident-1")}}},[t._v("Skip")])]),s("p",[t._v("Passed Button Poster "),s("button",{on:{click:function(e){return t.HardReset("button-poster")}}},[t._v("Skip")])]),s("p",[t._v("Passed Ident #2 "),s("button",{on:{click:function(e){return t.HardReset("ident-2")}}},[t._v("Skip")])]),s("p",[t._v("Passed Tubes "),s("button",{on:{click:function(e){return t.HardReset("tubes")}}},[t._v("Skip")])]),s("p",[t._v("Passed Ident #3 "),s("button",{on:{click:function(e){return t.HardReset("ident-3")}}},[t._v("Skip")])]),s("p",[t._v("Passed Toglee "),s("button",{on:{click:function(e){return t.HardReset("togle")}}},[t._v("Skip")])])]),s("div",{staticClass:"room-2"},[s("h2",[t._v("Second Room")]),s("p",[t._v("Passed Noise "),s("button",{on:{click:function(e){return t.HardReset("noise")}}},[t._v("Skip")])]),s("p",[t._v("Passed Coin "),s("button",{on:{click:function(e){return t.HardReset("coin")}}},[t._v("Skip")])]),s("p",[t._v("Passed Rotation "),s("button",{on:{click:function(e){return t.HardReset("rotation")}}},[t._v("Skip")])]),s("p",[t._v("Passed Magic Cabinet "),s("button",{on:{click:function(e){return t.HardReset("magic-cabinet")}}},[t._v("Skip")])]),s("p",[t._v("Passed Tobi "),s("button",{on:{click:function(e){return t.HardReset("tobi")}}},[t._v("Skip")])]),s("p",[t._v("Passed Knives "),s("button",{on:{click:function(e){return t.HardReset("knives")}}},[t._v("Skip")])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])])])])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("p",[t._v("Skip stages")])])}],x={name:"skip",props:{modules:{type:Object}},methods:{HardReset:function(t){this.$socket.emit("skip-stage",{stage:t})}}},P=x,R=(s("b173"),Object(p["a"])(P,C,S,!1,null,"786214d5",null)),M=R.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("time",{staticClass:"clock"},[s("span",{staticClass:"clock__hour"},[t._v(t._s(t.hours))]),s("span",{staticClass:"clock__colon",style:{visibility:t.blink&&t.seconds%2!==0?"hidden":"visible"}},[t._v(":")]),s("span",{staticClass:"clock__minutes"},[t._v(t._s(t.minutes))]),t.displaySeconds?s("span",{staticClass:"clock__colon",style:{visibility:t.blink&&t.seconds%2!==0?"hidden":"visible"}},[t._v(":")]):t._e(),t.displaySeconds?s("span",{staticClass:"clock__seconds"},[t._v(t._s(t.seconds))]):t._e(),t.twelveHour?s("span",{staticClass:"clock__ampm"},[t._v(t._s(t.amPm))]):t._e()])},G=[];function H(t){return t<10?"0"+t:t}var j=function(){return new Date},E=function(){return H(j().getSeconds())},I=function(){return H(j().getMinutes())},N=function(t){var e=j().getHours();return t&&e>12&&(e-=12),H(e)},B=function(){return j().getHours()>12?"pm":"am"},D={name:"vue-digital-clock",props:["blink","displaySeconds","twelveHour"],data:function(){return{ticker:null,minutes:I(),hours:N(this.twelveHour),seconds:E(),amPm:B()}},created:function(){var t=this;this.ticker=setInterval((function(){t.minutes=I(),t.hours=N(t.twelveHour),t.seconds=E()}),1e3)},destroyed:function(){clearInterval(this.ticker)}},F=D,J=(s("38d6"),Object(p["a"])(F,O,G,!1,null,"b9d75ed8",null)),W=J.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tips"},[s("div",{staticClass:"tips-area"},[s("p",[t._v("Мгновенные подсказки")]),s("form",{staticClass:"form_input",on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)},reset:t.cleanForm}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"Введите текст...",cols:"40",rows:"5"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._m(0)])]),s("div",{staticClass:"history"},[s("p",[t._v("История мгновенных подсказок")]),s("ul",{staticClass:"history-tips"},t._l(t.messages,(function(e,n){return s("li",{key:n},[t._v(t._s(n+1)+": "+t._s(e.message)+" "),s("button",{on:{click:function(s){return t.edit(e.message)}}},[t._v("Редактировать")])])})),0)])])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tips-control"},[s("button",{attrs:{type:"submit"}},[t._v("Отправить")]),s("button",{attrs:{type:"reset"}},[t._v("Очистить")])])}],q=(s("99af"),s("2909")),z={data:function(){return{message:"",messages:[],messageedit:"",isConnected:!1}},methods:{sendMessage:function(t){t.preventDefault(),this.$socket.emit("ChatTips",{message:this.message}),this.message=""},cleanForm:function(){this.message=""},edit:function(t){console.log(t),this.message=t}},sockets:{connect:function(){this.isConnected=!0,console.log("Socket connected to Chat")},disconnected:function(){this.isConnected=!1,console.log("Socket disconnected from Chat")},MESSAGE:function(t){this.messages=[].concat(Object(q["a"])(this.messages),[t])}}},L=z,Q=(s("173a"),Object(p["a"])(L,A,K,!1,null,"adcf070e",null)),U=Q.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"game_timer"}},[t.time?s("div",[s("div",{staticClass:"timer"},[t._v(t._s(t._f("prettify")(t.prettyTime)))]),s("div",[t.isRunning?t._e():s("button",{on:{click:t.start}},[t._v("Start")]),t.isRunning?s("button",{on:{click:t.stop}},[t._v("Stop")]):t._e(),s("button",{on:{click:t.reset}},[t._v("Reset")])])]):s("timer-setup",{on:{"set-time":t.setTime}})],1)},X=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{id:"timer-setup"}},[s("label",{attrs:{for:"min"}},[t._v("Minutes"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],attrs:{type:"number",name:"time_m",id:"min",min:"0",max:"59"},domProps:{value:t.minutes},on:{input:function(e){e.target.composing||(t.minutes=e.target.value)}}})]),s("label",{attrs:{for:"sec"}},[t._v("Secondes"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.secondes,expression:"secondes"}],attrs:{type:"number",name:"time_s",id:"sec",max:"59",min:"0"},domProps:{value:t.secondes},on:{input:function(e){e.target.composing||(t.secondes=e.target.value)}}})]),s("button",{attrs:{type:"button"},on:{click:t.sendTime}},[t._v("Set time")])])},Z=[],tt={name:"timer-setup",data:function(){return{minutes:0,secondes:0}},methods:{sendTime:function(){this.$emit("set-time",{minutes:this.minutes,secondes:this.secondes})}}},et=tt,st=Object(p["a"])(et,Y,Z,!1,null,null,null),nt=st.exports,it={name:"game_timer",components:{TimerSetup:nt},data:function(){return{isRunning:!1,minutes:0,secondes:0,time:0,timer:null}},methods:{convertTime:function(t){var e=t.split(":");return 60*e[0]+ +e[1]},start:function(){var t=this;this.isRunning=!0,this.timer||(this.timer=setInterval((function(){t.gameTime>0?t.gameTime--:(clearInterval(t.timer),t.reset())}),1e3))},stop:function(){this.isRunning=!1,clearInterval(this.timer),this.timer=null},reset:function(){this.stop(),this.time=0,this.secondes=0,this.minutes=0},setTime:function(t){this.time=60*t.minutes+t.secondes}},computed:{prettyTime:function(){var t=this.time/60,e=parseInt(t),s=Math.round(60*(t-e));return e+":"+s}},filters:{prettify:function(t){var e=t.split(":"),s=e[0],n=e[1];return s<10&&(s="0"+s),n<10&&(n="0"+n),s+":"+n}}},ot=it,rt=(s("e4a3"),Object(p["a"])(ot,V,X,!1,null,"21d0b0da",null)),at=rt.exports,ct={stage:[{name:"Emergensy_1",tips:[{text:"Выставить крутилки",time:"00:05",id:1,work_time:!1},{text:"Выпить 100 грамм",time:"00:05",id:2,work_time:!1},{text:"Выпить 150 грамм",time:"00:05",id:3,work_time:!1},{text:"Выпить 200 грамм",time:"00:05",id:4,work_time:!1}],order_game:1,group_stage:!1},{name:"Emergensy_2",tips:[{text:"horosho",time:"00:05",id:1,work_time:!1},{text:"horosho",time:"00:05",id:2,work_time:!1},{text:"horosho",time:"00:05",id:3,work_time:!1},{text:"horosho",time:"00:05",id:4,work_time:!1}],order_game:2,group_stage:!1},{name:"Emergensy_3",tips:[{text:"horosho",time:"00:05",id:1},{text:"horosho",time:"00:05",id:2},{text:"horosho",time:"00:05",id:3},{text:"horosho",time:"00:05",id:4}],order_game:3,group_stage:!1}],stage_order:1,modules:{name_modules:[{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2},{name:"Table",id:1},{name:"Musem",id:2}],mubmer_modules:14}},ut={name:"test",components:{ModalPower:T,ModalSkip:M,GamerTime:W,Chat:U,GameTime:at},data:function(){return{games_room:{},data:null,showModal:!1,showSkip:!1,game_time:"60:00"}},created:function(){var t=this;this.games_room=ct,this.$root.$on("WorkGroup",(function(e){t.games_room.stage_order==e.group_stage&&(t.games_room.stage_order+=1,t.$root.$emit("startGame",{game_status:!0,groop_stage:t.games_room.stage_order}))}))},methods:{startGame:function(){this.$root.$emit("startGame",{game_status:!0,groop_stage:this.games_room.stage_order}),this.$socket.emit("StartGame",{GameStatus:!0})},skip:function(){this.$root.$emit("skipGroup",{skip_group:this.games_room.stage_order}),this.games_room.stage_order+=1,this.data=this.games_room.stage_order,this.$root.$emit("startGame",{game_status:!0,groop_stage:this.games_room.stage_order})},nextGroup:function(){},pause:function(){this.$root.$emit("pauseGame",{game_status:!1}),this.$socket.emit("PauseGame",{GameStatus:!1})},stop:function(){this.$socket.emit("StopGame",{GameStatus:!1})},gamertime:function(){}}},mt=ut,lt=(s("f7fc"),Object(p["a"])(mt,o,r,!1,null,"270a2d69",null)),dt=lt.exports,pt=s("5132"),_t=s.n(pt);n["a"].use(i["a"]),n["a"].use(new _t.a({debug:!0,connection:"http://192.168.1.131:8081"})),new n["a"]({el:"#app",render:function(t){return t(dt)}})},"59e3":function(t,e,s){"use strict";var n=s("2901"),i=s.n(n);i.a},"5a35":function(t,e,s){},"69f8":function(t,e,s){"use strict";var n=s("5a35"),i=s.n(n);i.a},"77f5":function(t,e,s){},a229:function(t,e,s){},a730:function(t,e,s){},b173:function(t,e,s){"use strict";var n=s("023b"),i=s.n(n);i.a},ccb8:function(t,e,s){"use strict";var n=s("f9de"),i=s.n(n);i.a},e4a3:function(t,e,s){"use strict";var n=s("a229"),i=s.n(n);i.a},f7fc:function(t,e,s){"use strict";var n=s("77f5"),i=s.n(n);i.a},f9de:function(t,e,s){}});
//# sourceMappingURL=app.a12ad9cb.js.map